<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>

</head>
<body>
    <div class="card">
        <div class="card-header" style="text-align: center; font-size: 1.5rem;">
            디지털 시계
        </div>

        <div class="card-body" style="border: 2px solid #90C;">
            <div id = "comment" class="m-2 " style="height: 150px; display: flex; justify-content: center; align-items: center;;
                color: white; font-size: 4vw; font-size: 7vh; background-color: black;">  디지털 시계 </div>
            <button onclick="startclock()" class="btn btn-info btn-sm m-2" style="background-color:green; width: 7%;">시작</button>
            <button onclick="endclock()" class="btn btn-info btn-sm m-2" style="background-color: red; width: 7%;">중지</button>
        </div>

        <script>
            function startclock(){
                taskId = window.setInterval(function(){
                    const now = new Date(); //객체 선언
                    let time =  now.toLocaleTimeString();
                    const times = time.valueOf();
                    document.getElementById("comment").innerHTML = times;
                    console.log("1");

                }, 1000); //1초마다 함수 작동
            }

            function endclock(){
                window.clearInterval(taskId );
            }
        </script>
    </div>

    <div class="card-header" style="text-align: center; font-size: 1.5rem;" >
        스톱 워치
    </div>

    <div class="card-body" style="border: 2px solid darkblue;">
        <div id = "comment2" class="m-2 " style="height: 150px; display: flex; justify-content: center; align-items: center;;
            color: white; font-size: 4vw; font-size: 7vh; background-color: black;"> 00:00:00:000 </div>
        <button onclick="startstopwatch()" class="btn btn-info btn-sm m-2" style="background-color:green; width: 7%;">시작</button>
        <button onclick="endstopwatch()" class="btn btn-info btn-sm m-2" style="background-color: red; width: 7%;">중지</button>
    </div>
    <script>
        var begin;
        var end;
        var timer;

        function startstopwatch() {
        begin = new Date();
        timer = setInterval(update, 10);
        }

        function update() {
        end = new Date();
        var s = end - begin;

        var ms = s % 1000;
        s = (s - ms) / 1000;
        var secs = s % 60;
        s = (s - secs) / 60;
        var mins = s % 60;
        var hrs = (s - mins) / 60;

        if(ms<10){
            ms = `00${ms}`
        } else if(ms < 100){
            ms = `0${ms}`
        } 

        if( secs >= 60){
            secs = secs % 60;
        }
        
        if(secs < 10){
            secs = `0${secs}`;
        }

       if(mins < 10){
            mins = `0${mins}`;
        }

        if(hrs < 10){
            hrs = `0${hrs}`;
        }
        
        var result = `${hrs}:${mins}:${secs}:${ms}`
        document.getElementById("comment2").innerHTML = result;

        }

        function endstopwatch(){
            window.clearInterval(timer);
        }

    </script>
</div>
</body>
</html>