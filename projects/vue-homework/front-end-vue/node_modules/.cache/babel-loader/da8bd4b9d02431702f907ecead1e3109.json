{"ast":null,"code":"import { useRoute } from \"vue-router\";\nimport apiBoard from \"@/apis/board\";\nimport { ref } from \"vue\";\nimport fileDownload from \"js-file-download\";\nexport default {\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const rout = useRoute();\n    const bno = rout.query.bno;\n    const pageNo = rout.query.pageNo;\n    const hit = rout.query.hit;\n    const board = ref(null);\n    const battach = ref(null);\n\n    async function getBoard() {\n      // const dbBoard  = await apiBoard.reaadBoard(bno, hit);\n      // board.value = dbBoard;\n      // const blob = await apiBoard.downloadBoardAttach(bno);\n      apiBoard.reaadBoard(bno, hit).then(data => {\n        board.value = data;\n      });\n      const blob = await apiBoard.downloadBoardAttach(bno);\n\n      if (blob != null) {\n        battach.value = URL.createObjectURL(blob);\n      }\n    }\n\n    getBoard();\n\n    async function downloadBattach() {\n      const blob = await apiBoard.downloadBoardAttach(bno);\n\n      if (blob != null) {\n        fileDownload(blob, board.value.battachoname);\n      }\n    }\n\n    const __returned__ = {\n      rout,\n      bno,\n      pageNo,\n      hit,\n      board,\n      battach,\n      getBoard,\n      downloadBattach,\n      useRoute,\n      apiBoard,\n      ref,\n      fileDownload\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"AAsCI,SAASA,QAAT,QAAyB,YAAzB;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,SAAQC,GAAR,QAAmB,KAAnB;AACA,OAAOC,YAAP,MAAyB,kBAAzB;;;;;;IAEA,MAAMC,IAAI,GAAGJ,QAAQ,EAArB;IACA,MAAMK,GAAG,GAAGD,IAAI,CAACE,KAAL,CAAWD,GAAvB;IACA,MAAME,MAAM,GAAGH,IAAI,CAACE,KAAL,CAAWC,MAA1B;IACA,MAAMC,GAAG,GAAGJ,IAAI,CAACE,KAAL,CAAWE,GAAvB;IACA,MAAMC,KAAK,GAAGP,GAAG,CAAC,IAAD,CAAjB;IACA,MAAMQ,OAAO,GAAGR,GAAG,CAAC,IAAD,CAAnB;;IAEA,eAAeS,QAAf,GAAyB;MACrB;MACA;MACA;MAEAV,QAAQ,CAACW,UAAT,CAAoBP,GAApB,EAAyBG,GAAzB,EACCK,IADD,CACOC,IAAD,IAAQ;QACVL,KAAK,CAACM,KAAN,GAAcD,IAAd;MACH,CAHD;MAKA,MAAME,IAAI,GAAG,MAAMf,QAAQ,CAACgB,mBAAT,CAA6BZ,GAA7B,CAAnB;;MACA,IAAGW,IAAI,IAAI,IAAX,EAAgB;QACZN,OAAO,CAACK,KAAR,GAAgBG,GAAG,CAACC,eAAJ,CAAoBH,IAApB,CAAhB;MACH;IAEJ;;IAEDL,QAAQ;;IAER,eAAeS,eAAf,GAAgC;MAC5B,MAAMJ,IAAI,GAAG,MAAMf,QAAQ,CAACgB,mBAAT,CAA6BZ,GAA7B,CAAnB;;MACA,IAAGW,IAAI,IAAI,IAAX,EAAgB;QACZb,YAAY,CAACa,IAAD,EAAOP,KAAK,CAACM,KAAN,CAAYM,YAAnB,CAAZ;MACH;IACJ","names":["useRoute","apiBoard","ref","fileDownload","rout","bno","query","pageNo","hit","board","battach","getBoard","reaadBoard","then","data","value","blob","downloadBoardAttach","URL","createObjectURL","downloadBattach","battachoname"],"sources":["/Users/jbc/Desktop/osstem/projects/node-workspace/oss_Vue_study/front-end-vue/front-end-vue/src/views/menu07/board/Read.vue"],"sourcesContent":["<template>\n    <div class=\"card\">\n        <div class = \"card-header\">\n            Read\n        </div>\n        <div class=\"card-body\">\n            <div v-if=\"board != null\">\n                <div class=\"d-flex\">\n                    <div>\n                        <p>bno: {{board.bno}}</p>\n                        <p>btitle: {{board.btitle}}</p>\n                        <p>bcontent: {{board.bcontent}}</p>\n                        <p>mid: {{board.mid}}</p>\n                        <p>bdate: {{new Date(board.bdate).toLocaleDateString()}}</p>\n                        <p>bhitcount: {{board.bhitcount}}</p>\n                        <p v-if=\"board.battachoname\">\n                            battach: {{board.battachoname}}\n                            <button @click=\"downloadBattach\" class=\"btn btn-info btn-sm ml-2\"> 다운로드</button>    \n                        </p>\n                    </div>\n                    <div class=\"ml-5\">\n                        <img v-if=\"board.battachoname != null\" :src=\"battach\" width=\"300\"/>\n                    </div>\n                </div>\n\n                        <div>\n                <router-link :to=\"`/menu07/board/list?pageNo=${pageNo}`\" class=\"btn btn-info btn-sm mr-2\">목록</router-link>\n                <!-- <router-link :to=\"`/menu07/board/updateform?bno=${$route.query.bno}&pageNo=${$route.query.pageNo}`\" \n                    class=\"btn btn-info btn-sm mr-2\">수정</router-link>\n                <button class=\"btn btn-info btn-sm mr-2\" @click=\"handleRemove\">삭제</button> -->\n                </div>\n            </div>\n        </div>\n    </div>\n\n</template>\n\n<script setup>\n    import { useRoute } from \"vue-router\";\n    import apiBoard from \"@/apis/board\";\n    import {ref } from \"vue\";\n    import fileDownload from \"js-file-download\";\n\n    const rout = useRoute();\n    const bno = rout.query.bno;\n    const pageNo = rout.query.pageNo;\n    const hit = rout.query.hit;\n    const board = ref(null);\n    const battach = ref(null);\n\n    async function getBoard(){\n        // const dbBoard  = await apiBoard.reaadBoard(bno, hit);\n        // board.value = dbBoard;\n        // const blob = await apiBoard.downloadBoardAttach(bno);\n\n        apiBoard.reaadBoard(bno, hit)\n        .then((data)=>{\n            board.value = data;\n        });\n\n        const blob = await apiBoard.downloadBoardAttach(bno);\n        if(blob != null){\n            battach.value = URL.createObjectURL(blob);\n        }\n\n    }\n\n    getBoard();\n\n    async function downloadBattach(){\n        const blob = await apiBoard.downloadBoardAttach(bno);\n        if(blob != null){\n            fileDownload(blob, board.value.battachoname);\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}