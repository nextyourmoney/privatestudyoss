{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card-header\"\n}, \" list Board \", -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = {\n  class: \"card-body\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  class: \"mb-3\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" 생성 \");\n\nconst _hoisted_7 = {\n  class: \"table table-sm table-striped table-bordered\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  style: {\n    \"width\": \"70px\"\n  }\n}, \"번호\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\"\n}, \"제목\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  style: {\n    \"width\": \"90px\"\n  }\n}, \"글쓴이\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  style: {\n    \"width\": \"120px\"\n  }\n}, \"날짜\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  style: {\n    \"width\": \"70px\"\n  }\n}, \"조회수\")])], -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = {\n  class: \"text-center\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"`` \");\n\nconst _hoisted_11 = {\n  colspan: \"5\",\n  class: \"text-center\"\n};\nconst _hoisted_12 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" page처리 시 null을 binding 할 수 없기 때문이다. //setup 구성 전에 dom이 생성 될 수 있기 때문에 에러가 발생할 수도 있다.  \"), $setup.page != null ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_router_link, {\n    to: \"/menu07/board/writeform\",\n    class: \"btn btn-info btn-sm mr-2\"\n  }, {\n    default: _withCtx(() => [_hoisted_6]),\n    _: 1\n    /* STABLE */\n\n  })]), _createElementVNode(\"table\", _hoisted_7, [_hoisted_8, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.page.boadrs, board => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: board.bno\n    }, [_createElementVNode(\"td\", _hoisted_9, _toDisplayString(board.bno), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, [_createVNode(_component_router_link, {\n      to: `/menu07/board/read?bno=$`\n    }, {\n      default: _withCtx(() => [_hoisted_10]),\n      _: 1\n      /* STABLE */\n\n    }), _createTextVNode(\" \" + _toDisplayString(board.btitle), 1\n    /* TEXT */\n    )]), _createElementVNode(\"td\", null, _toDisplayString(board.mid), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(new Date(board.bdate).toLocaleDateString()), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(board.bhitcount), 1\n    /* TEXT */\n    )]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _createElementVNode(\"tr\", null, [_createElementVNode(\"td\", _hoisted_11, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $setup.changePageNo(1)),\n    class: \"btn btn-outline-primary btn-sm mr-1\"\n  }, \"처음\"), $setup.page.pager.groupNo > 1 ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[1] || (_cache[1] = $event => $setup.changePageNo($setup.page.pager.startPageNo - 1)),\n    class: \"btn btn-outline-info btn-sm mr-1\"\n  }, \"이전\")) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" <button v-for = \\\"pageNo in range(page.pager.startPageNo, page.pager.endPageNo)\\\" @click=\\\"changePageNo(pageNo)\\\" \\n                                    :key=\\\"pageNo\\\" class = \\\"btn btn-outline-success btn-sm mr-1\\\" :class = \\\"{'btn-outline-success':(page.pager.pageNo!=pageNo), 'btn-danger':(page.pager.pageNo==pageNo)}\\\">{{pageNo}}</button> \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.range($setup.page.pager.startPageNo, $setup.page.pager.endPageNo), pageNo => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      onClick: $event => $setup.changePageNo(pageNo),\n      key: pageNo,\n      class: _normalizeClass($setup.page.pager.pageNo == pageNo ? 'btn-danger' : 'btn-outline-success')\n    }, _toDisplayString(pageNo), 11\n    /* TEXT, CLASS, PROPS */\n    , _hoisted_12);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), $setup.page.pager.groupNo < $setup.page.pager.totalGroupNo ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    onClick: _cache[2] || (_cache[2] = $event => $setup.changePageNo($setup.page.pager.endPageNo + 1)),\n    class: \"btn btn-outline-info btn-sm mr-1\"\n  }, \"다음\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = $event => $setup.changePageNo($setup.page.pager.totalPageNo)),\n    class: \"btn btn-outline-primary btn-sm mr-1\"\n  }, \"맨끝\")])])])])])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","style","colspan","_createElementBlock","_hoisted_2","_createCommentVNode","$setup","_hoisted_4","_createVNode","_component_router_link","to","_hoisted_8","_Fragment","_renderList","boadrs","board","key","bno","_toDisplayString","btitle","mid","Date","bdate","toLocaleDateString","bhitcount","onClick","pager","groupNo","startPageNo","endPageNo","pageNo","_hoisted_12","totalGroupNo","totalPageNo"],"sourceRoot":"","sources":["/Users/jbc/Desktop/osstem/projects/node-workspace/oss_Vue_study/front-end-vue/front-end-vue/src/views/menu07/board/List.vue"],"sourcesContent":["<template>\n    <div class=\"card\">\n        <div class = \"card-header\">\n            list Board\n        </div>\n        <div class=\"card-body\">\n\n            <!-- page처리 시 null을 binding 할 수 없기 때문이다. //setup 구성 전에 dom이 생성 될 수 있기 때문에 에러가 발생할 수도 있다.  -->\n            <div v-if=\"page != null\"> \n                <div class = \"mb-3\">\n                    <router-link to=\"/menu07/board/writeform\" class=\"btn btn-info btn-sm mr-2\"> 생성 </router-link>\n                </div>\n                \n                <table class=\"table table-sm table-striped table-bordered\">\n                    <thead>\n                        <tr>\n                        <th class=\"text-center\" style=\"width:70px\">번호</th>\n                        <th class=\"text-center\">제목</th>\n                        <th class=\"text-center\" style=\"width:90px\">글쓴이</th>\n                        <th class=\"text-center\" style=\"width:120px\">날짜</th>\n                        <th class=\"text-center\" style=\"width:70px\">조회수</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        \n                        <tr v-for=\"board in page.boadrs\" :key=\"board.bno\">\n                            <td class=\"text-center\">{{board.bno}}</td>\n                            <td >\n                                <router-link :to = \"`/menu07/board/read?bno=$`\">``  </router-link>\n                                {{board.btitle}}\n                            </td>\n                            <td >{{board.mid}}</td>\n                            <td >{{new Date(board.bdate).toLocaleDateString()}}</td>\n                            <td >{{board.bhitcount}}</td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"5\" class=\"text-center\">\n                                <button @click=\"changePageNo(1)\"    class = \"btn btn-outline-primary btn-sm mr-1\">처음</button>\n                                <button v-if=\"page.pager.groupNo > 1\" @click=\"changePageNo(page.pager.startPageNo-1)\" class = \"btn btn-outline-info btn-sm mr-1\">이전</button>\n                                <!-- <button v-for = \"pageNo in range(page.pager.startPageNo, page.pager.endPageNo)\" @click=\"changePageNo(pageNo)\" \n                                    :key=\"pageNo\" class = \"btn btn-outline-success btn-sm mr-1\" :class = \"{'btn-outline-success':(page.pager.pageNo!=pageNo), 'btn-danger':(page.pager.pageNo==pageNo)}\">{{pageNo}}</button> -->\n                                <button v-for = \"pageNo in range(page.pager.startPageNo, page.pager.endPageNo)\" @click=\"changePageNo(pageNo)\" \n                                    :key=\"pageNo\" :class = \"(page.pager.pageNo==pageNo)?'btn-danger':'btn-outline-success'\">{{pageNo}}</button>\n                                \n                                <button v-if=\"page.pager.groupNo < page.pager.totalGroupNo\" @click=\"changePageNo(page.pager.endPageNo+1)\" class = \"btn btn-outline-info btn-sm mr-1\">다음</button>\n                                <button @click=\"changePageNo(page.pager.totalPageNo)\" class = \"btn btn-outline-primary btn-sm mr-1\">맨끝</button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\n    //import {getBoardList} from \"@/apis/board\";\n    import apiBoard from \"@/apis/board\"; \n    import {ref, watch} from \"vue\";\n    import {useRoute, useRouter } from \"vue-router\";\n\n    //반응형 속성 선언\n    const page = ref(null);\n    const route = useRoute();\n    const router = useRouter();\n\n\n    //라우팅시에 전달된 query String에서 pageNo을 읽기\n    let pageNo = route.query.pageNo;\n\n    //페이지가 없을 경우 디폴트로 1을 선언한다. \n    if(pageNo === \"undefined\"){\n        pageNo = 1;\n    }\n\n    //rest api와 통신하여 페이지에 대한 정보(게시물 목록 + 페이지)를 가져온다. 이때 page라는 반응형 속성에 저장한다. \n    async function getBoardList(pageNo){\n        //apis의 function이 비동기 방식이므로 반드시 await으로 호출해야 한다. \n        const result = await apiBoard.getBoardList(pageNo);\n        if(result !=null){\n            page.value = result;\n            // console.log(page.value);\n        } \n    }\n    getBoardList(pageNo);\n\n    function range(start, end){\n        const numbers = [];\n        for(var i = start; i <= end; i++){\n            numbers.push(i);\n        }\n        return numbers;\n    }\n\n    function changePageNo(pageNo){\n        router.push(`/menu07/board/list?pageNo=${pageNo}`);\n    }\n\n    watch(route, (newUrl, oldUrl) => {\n        if(newUrl.path === \"/menu07/board/list\"){\n            if(newUrl.query.pageNo){\n                getBoardList(newUrl.query.pageNo);\n            } else{\n                getBoardList(1);\n            }\n        }\n    })\n</script>\n\n<style scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}