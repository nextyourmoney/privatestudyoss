{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card-header\"\n}, \" Read \", -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = {\n  class: \"card-body\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  class: \"d-flex\"\n};\nconst _hoisted_6 = {\n  key: 0\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"ml-5\"\n}, [/*#__PURE__*/_createCommentVNode(\" <img v-if=\\\"board.battachoname != null\\\" :src=\\\"battach\\\" width=\\\"300\\\"/> \")], -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [$setup.board != null ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", null, [_createElementVNode(\"p\", null, \"bno: \" + _toDisplayString($setup.board.bno), 1\n  /* TEXT */\n  ), _createElementVNode(\"p\", null, \"btitle: \" + _toDisplayString($setup.board.btitle), 1\n  /* TEXT */\n  ), _createElementVNode(\"p\", null, \"bcontent: \" + _toDisplayString($setup.board.bcontent), 1\n  /* TEXT */\n  ), _createElementVNode(\"p\", null, \"mid: \" + _toDisplayString($setup.board.mid), 1\n  /* TEXT */\n  ), _createElementVNode(\"p\", null, \"bdate: \" + _toDisplayString(new Date($setup.board.bdate).toLocaleDateString()), 1\n  /* TEXT */\n  ), _createElementVNode(\"p\", null, \"bhitcount: \" + _toDisplayString($setup.board.bhitcount), 1\n  /* TEXT */\n  ), $setup.board.battachoname ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, [_createTextVNode(\" battach: \" + _toDisplayString($setup.board.battachoname) + \" \", 1\n  /* TEXT */\n  ), _createElementVNode(\"button\", {\n    onClick: $setup.downloadBattach,\n    class: \"btn btn-info btn-sm ml-2\"\n  }, \" 다운로드\")])) : _createCommentVNode(\"v-if\", true)]), _hoisted_7])])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"mappings":";;EACSA,KAAK,EAAC;;;gCACPC,oBAEM,KAFN,EAEM;EAFDD,KAAK,EAAG;AAEP,CAFN,EAA2B,QAA3B,EAEA;AAAA;AAFA;;;EAGKA,KAAK,EAAC;;;;;;EAEEA,KAAK,EAAC;;;;;;gCAaPC,oBAEM,KAFN,EAEM;EAFDD,KAAK,EAAC;AAEL,CAFN,EAAiB,cACbE,kGADa,CAAjB;;AAAA;;;uBAnBhBC,oBAyBM,KAzBN,cAyBM,CAxBFC,UAwBE,EArBFH,oBAoBM,KApBN,cAoBM,CAnBSI,gBAAK,sBAAhBF,oBAkBM,KAlBN,EAkBMG,UAlBN,EAkBM,CAjBFL,oBAgBM,KAhBN,cAgBM,CAfFA,oBAWM,KAXN,EAWM,IAXN,EAWM,CAVFA,oBAAyB,GAAzB,EAAyB,IAAzB,EAAG,UAAKM,iBAAEF,aAAMG,GAAR,CAAR,EAAmB;EAAA;EAAnB,CAUE,EATFP,oBAA+B,GAA/B,EAA+B,IAA/B,EAAG,aAAQM,iBAAEF,aAAMI,MAAR,CAAX,EAAyB;EAAA;EAAzB,CASE,EARFR,oBAAmC,GAAnC,EAAmC,IAAnC,EAAG,eAAUM,iBAAEF,aAAMK,QAAR,CAAb,EAA6B;EAAA;EAA7B,CAQE,EAPFT,oBAAyB,GAAzB,EAAyB,IAAzB,EAAG,UAAKM,iBAAEF,aAAMM,GAAR,CAAR,EAAmB;EAAA;EAAnB,CAOE,EANFV,oBAA4D,GAA5D,EAA4D,IAA5D,EAAG,YAAOM,qBAAMK,IAAN,CAAWP,aAAMQ,KAAjB,EAAwBC,kBAAxB,GAAV,EAAoD;EAAA;EAApD,CAME,EALFb,oBAAqC,GAArC,EAAqC,IAArC,EAAG,gBAAWM,iBAAEF,aAAMU,SAAR,CAAd,EAA+B;EAAA;EAA/B,CAKE,EAJOV,aAAMW,8BAAfb,oBAGI,GAHJ,EAGIc,UAHJ,EAGI,kBAHyB,eAChBV,iBAAEF,aAAMW,YAAR,CADgB,GACM,KAC/B;EAAA;GACA,EADAf,oBAAgF,QAAhF,EAAgF;IAAvEiB,OAAK,EAAEb,sBAAgE;IAA/CL,KAAK,EAAC;EAAyC,CAAhF,EAAkE,OAAlE,CACA,CAHJ,sCAIE,CAXN,CAeE,EAHFmB,UAGE,CAhBN,CAiBE,CAlBN,sCAmBE,CApBN,CAqBE,CAzBN","names":["class","_createElementVNode","_createCommentVNode","_createElementBlock","_hoisted_2","$setup","_hoisted_4","_toDisplayString","bno","btitle","bcontent","mid","Date","bdate","toLocaleDateString","bhitcount","battachoname","_hoisted_6","onClick","_hoisted_7"],"sourceRoot":"","sources":["/Users/jbc/Desktop/osstem/projects/node-workspace/oss_Vue_study/front-end-vue/front-end-vue/src/views/menu07/board/Read.vue"],"sourcesContent":["<template>\n    <div class=\"card\">\n        <div class = \"card-header\">\n            Read\n        </div>\n        <div class=\"card-body\">\n            <div v-if=\"board != null\">\n                <div class=\"d-flex\">\n                    <div>\n                        <p>bno: {{board.bno}}</p>\n                        <p>btitle: {{board.btitle}}</p>\n                        <p>bcontent: {{board.bcontent}}</p>\n                        <p>mid: {{board.mid}}</p>\n                        <p>bdate: {{new Date(board.bdate).toLocaleDateString()}}</p>\n                        <p>bhitcount: {{board.bhitcount}}</p>\n                        <p v-if=\"board.battachoname\">\n                            battach: {{board.battachoname}}\n                            <button @click=\"downloadBattach\" class=\"btn btn-info btn-sm ml-2\"> 다운로드</button>    \n                        </p>\n                    </div>\n                    <div class=\"ml-5\">\n                        <!-- <img v-if=\"board.battachoname != null\" :src=\"battach\" width=\"300\"/> -->\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</template>\n\n<script setup>\n    import { useRoute } from \"vue-router\";\n    import apiBoard from \"@/apis/board\";\n    import {ref } from \"vue\";\n    import fileDownload from \"js-file-download\";\n\n    const rout = useRoute();\n    const bno = rout.query.bno;\n    const pageNo = rout.query.pageNo;\n    const hit = rout.query.hit;\n    const board = ref(null);\n    const battach = ref(null);\n\n    async function getBoard(){\n        // const dbBoard  = await apiBoard.reaadBoard(bno, hit);\n        // board.value = dbBoard;\n        // const blob = await apiBoard.downloadBoardAttach(bno);\n\n        apiBoard.reaadBoard(bno, hit)\n        .then((data)=>{\n            board.value = data;\n        });\n\n        const blob = await apiBoard.downloadBoardAttach(bno);\n        if(blob != null){\n            battach.value = URL.createObjectURL(blob);\n        }\n\n    }\n\n    getBoard();\n\n    async function downloadBattach(){\n        const blob = await apiBoard.downloadBoardAttach(bno);\n        if(blob != null){\n            fileDownload(blob, board.value.battachoname);\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}