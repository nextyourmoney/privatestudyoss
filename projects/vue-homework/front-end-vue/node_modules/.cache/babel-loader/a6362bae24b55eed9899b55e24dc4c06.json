{"ast":null,"code":"import { reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport apiBoard from \"@/apis/board\";\nexport default {\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const router = useRouter();\n    const board = reactive({\n      btitle: \"\",\n      bcontent: \"\"\n    });\n    const battach = ref(null);\n\n    async function handleAdd() {\n      const multipartFormData = new FormData();\n      multipartFormData.append(\"btitle\", board.btitle);\n      multipartFormData.append(\"bcontent\", board.bcontent);\n      multipartFormData.append(\"mid\", \"user\");\n\n      if (battach.value.files) {\n        multipartFormData.append(\"battach\", battach.value.files[0]);\n      }\n\n      await apiBoard.createBoard(multipartFormData);\n      router.push(\"/menu07/board/list\");\n    }\n\n    function handleCancel() {\n      router.push(\"/menu07/board/list\");\n    }\n\n    const __returned__ = {\n      router,\n      board,\n      battach,\n      handleAdd,\n      handleCancel,\n      reactive,\n      ref,\n      useRouter,\n      apiBoard\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"AAsCI,SAASA,QAAT,EAAmBC,GAAnB,QAA8B,KAA9B;AACA,SAASC,SAAT,QAAyB,YAAzB;AACA,OAAOC,QAAP,MAAqB,cAArB;;;;;;IAEA,MAAMC,MAAM,GAAGF,SAAS,EAAxB;IACA,MAAMG,KAAK,GAAGL,QAAQ,CAAC;MACnBM,MAAM,EAAC,EADY;MAEnBC,QAAQ,EAAE;IAFS,CAAD,CAAtB;IAKA,MAAMC,OAAO,GAAGP,GAAG,CAAC,IAAD,CAAnB;;IAEA,eAAeQ,SAAf,GAA0B;MACtB,MAAMC,iBAAiB,GAAG,IAAIC,QAAJ,EAA1B;MACAD,iBAAiB,CAACE,MAAlB,CAAyB,QAAzB,EAAmCP,KAAK,CAACC,MAAzC;MACAI,iBAAiB,CAACE,MAAlB,CAAyB,UAAzB,EAAqCP,KAAK,CAACE,QAA3C;MACAG,iBAAiB,CAACE,MAAlB,CAAyB,KAAzB,EAAgC,MAAhC;;MACA,IAAGJ,OAAO,CAACK,KAAR,CAAcC,KAAjB,EAAuB;QACnBJ,iBAAiB,CAACE,MAAlB,CAAyB,SAAzB,EAAoCJ,OAAO,CAACK,KAAR,CAAcC,KAAd,CAAoB,CAApB,CAApC;MAEH;;MAED,MAAMX,QAAQ,CAACY,WAAT,CAAqBL,iBAArB,CAAN;MACAN,MAAM,CAACY,IAAP,CAAY,oBAAZ;IAEH;;IAED,SAASC,YAAT,GAAuB;MACnBb,MAAM,CAACY,IAAP,CAAY,oBAAZ;IACH","names":["reactive","ref","useRouter","apiBoard","router","board","btitle","bcontent","battach","handleAdd","multipartFormData","FormData","append","value","files","createBoard","push","handleCancel"],"sources":["/Users/jbc/Desktop/osstem/projects/node-workspace/oss_Vue_study/front-end-vue/front-end-vue/src/views/menu07/board/WriteForm.vue"],"sourcesContent":["<template>\n    <div class=\"card\">\n        <div class = \"card-header\">\n            writeForm\n        </div>\n        <div class=\"card-body\">\n            <form v-on:submit.prevent=\"handleAdd\">\n                <div class=\"form-group row\">\n                <label class=\"col-sm-2 col-form-label\">제목</label>\n                <div class=\"col-sm-10\">\n                    <input type=\"text\" class=\"form-control\" v-model=\"board.btitle\"/>\n                </div>\n                </div>\n                <div class=\"form-group row\">\n                <label class=\"col-sm-2 col-form-label\">내용</label>\n                <div class=\"col-sm-10\">\n                    <input type=\"text\" class=\"form-control\" v-model=\"board.bcontent\"/>\n                </div>\n                </div>\n                <div class=\"form-group row\">\n                <label class=\"col-sm-2 col-form-label\">첨부그림</label>\n                <div class=\"col-sm-10\">\n                    <input type=\"file\" class=\"form-control-file\" ref=\"battach\"/>\n                </div>\n                </div>\n                <div class=\"form-group row\">\n                <div class=\"col-sm-12 d-flex justify-content-center\">\n                    <input type=\"submit\" class=\"btn btn-primary btn-sm mr-2\" value=\"추가\"/>\n                    <input type=\"button\" class=\"btn btn-primary btn-sm\" value=\"취소\" v-on:click=\"handleCancel\"/>\n                </div>\n                </div>\n            </form>\n        </div>\n    </div>\n\n</template>\n\n<script setup>\n    import { reactive, ref } from \"vue\";\n    import { useRouter} from \"vue-router\";\n    import apiBoard from \"@/apis/board\";\n\n    const router = useRouter();\n    const board = reactive({\n        btitle:\"\",\n        bcontent: \"\"\n    });\n\n    const battach = ref(null);\n\n    async function handleAdd(){\n        const multipartFormData = new FormData();\n        multipartFormData.append(\"btitle\", board.btitle);\n        multipartFormData.append(\"bcontent\", board.bcontent);\n        multipartFormData.append(\"mid\", \"user\");\n        if(battach.value.files){\n            multipartFormData.append(\"battach\", battach.value.files[0]);\n            \n        }\n\n        await apiBoard.createBoard(multipartFormData);\n        router.push(\"/menu07/board/list\");\n        \n    }\n\n    function handleCancel(){\n        router.push(\"/menu07/board/list\");\n    }\n\n    \n</script>\n\n<style scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}